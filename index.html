<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#208090">
    <meta name="description" content="Divida despesas de casal de forma proporcional Ã  renda. Simples, justo e transparente.">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="DivideCerto">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Ãcones -->
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    
    <title>DivideCerto - Dividindo contas com justiÃ§a</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Seu conteÃºdo continua EXATAMENTE igual -->
    <div class="container">
        <header>
            <div class="header-top">
                <div class="title-section">
                    <h1>ğŸ’° DivideCerto</h1>
                    <p style="margin: 5px 0 0 0; font-size: 0.9rem; opacity: 0.9;">Dividindo contas com justiÃ§a</p>
                </div>
                <div style="display: flex; gap: 10px; align-items: center;">
                    <button class="btn-theme" onclick="toggleTheme()" title="Alternar tema">
                        <span id="themeIcon">ğŸŒ™</span>
                    </button>
                    <span class="version-badge">V20 PWA</span>
                </div>
            </div>
            <!-- Resto do header continua igual -->


            <div class="header-grid">
                <div class="header-card">
                    <div class="header-label">ğŸ“… Data Inicial</div>
                    <div class="header-input-group">
                        <input type="month" id="startDateInput" class="header-input">
                        <button class="btn-header" onclick="updateStartDate()">âœ“</button>
                    </div>
                </div>

                <div class="header-card">
                    <div class="header-label">ğŸ’µ Saldo Conta</div>
                    <div class="header-input-group">
                        <input type="number" id="balanceInput" class="header-input" step="0.01" placeholder="0,00">
                        <button class="btn-header" onclick="updateBalance()">âœ“</button>
                    </div>
                </div>

                <div class="header-card">
                    <div class="header-label">ğŸ“Š Renda Total MÃªs</div>
                    <div class="header-value" id="totalIncomeDisplay">R$ 0,00</div>
                </div>
            </div>
        </header>

        <div id="successAlert" class="alert alert-success"></div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('renda')">ğŸ’µ Renda</button>
            <button class="tab" onclick="switchTab('despesas')">ğŸ“‹ Despesas CC</button>
            <button class="tab" onclick="switchTab('descontos')">ğŸ’³ Pagamentos Individuais</button>
            <button class="tab" onclick="switchTab('liquidacao')">ğŸ§® LiquidaÃ§Ã£o</button>
            <button class="tab" onclick="switchTab('extrato1')">ğŸ“„ <span id="person1TabName">Pessoa 1</span></button>
            <button class="tab" onclick="switchTab('extrato2')">ğŸ“„ <span id="person2TabName">Pessoa 2</span></button>
            <button class="tab" onclick="switchTab('categorias')">ğŸ·ï¸ Categorias</button>
            <button class="tab" onclick="switchTab('historico')">ğŸ“Š HistÃ³rico</button>
            <button class="tab" onclick="switchTab('feriados')">ğŸ“… Feriados</button>
			<button class="tab" onclick="switchTab('tutorial')">ğŸ“š Como Usar</button>
            <button class="tab" onclick="switchTab('backup')">ğŸ’¾ Backup</button>
        </div>

        <!-- Modal Editar Despesa -->
        <div id="editExpenseModal" class="modal">
            <div class="modal-content">
                <h2 class="modal-header">âœï¸ Editar Despesa</h2>
                <div class="form-group">
                    <label>DescriÃ§Ã£o</label>
                    <input type="text" id="editExpenseName">
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>Valor (R$)</label>
                    <input type="number" id="editExpenseAmount" step="0.01">
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>MÃªs</label>
                    <input type="month" id="editExpenseMonth">
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>Categoria</label>
                    <select id="editExpenseCategory">
                        <option value="moradia">ğŸ  Moradia</option>
                        <option value="alimentacao">ğŸ½ï¸ AlimentaÃ§Ã£o</option>
                        <option value="transporte">ğŸš— Transporte</option>
                        <option value="saude">ğŸ¥ SaÃºde</option>
                        <option value="lazer">ğŸ® Lazer</option>
                        <option value="educacao">ğŸ“š EducaÃ§Ã£o</option>
                        <option value="outros">ğŸ“¦ Outros</option>
                    </select>
                </div>
                <div class="modal-buttons">
                    <button class="btn btn-primary" onclick="saveExpenseEdit()">ğŸ’¾ Salvar</button>
                    <button class="btn btn-danger" onclick="closeEditExpenseModal()">âŒ Cancelar</button>
                </div>
            </div>
        </div>

        <!-- Modal Editar Pagamento -->
        <div id="editTransactionModal" class="modal">
            <div class="modal-content">
                <h2 class="modal-header">âœï¸ Editar Pagamento</h2>
                <div class="form-group">
                    <label>Pessoa</label>
                    <select id="editTransactionPerson">
                        <option value="">Selecione...</option>
                    </select>
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>DescriÃ§Ã£o</label>
                    <input type="text" id="editTransactionDescription">
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>Valor (R$)</label>
                    <input type="number" id="editTransactionAmount" step="0.01">
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>MÃªs</label>
                    <input type="month" id="editTransactionMonth">
                </div>
                <div class="form-group" style="margin-top: 15px;">
                    <label>Categoria</label>
                    <select id="editTransactionCategory">
                        <option value="moradia">ğŸ  Moradia</option>
                        <option value="alimentacao">ğŸ½ï¸ AlimentaÃ§Ã£o</option>
                        <option value="transporte">ğŸš— Transporte</option>
                        <option value="saude">ğŸ¥ SaÃºde</option>
                        <option value="lazer">ğŸ® Lazer</option>
                        <option value="educacao">ğŸ“š EducaÃ§Ã£o</option>
                        <option value="outros">ğŸ“¦ Outros</option>
                    </select>
                </div>
                <div class="modal-buttons">
                    <button class="btn btn-primary" onclick="saveTransactionEdit()">ğŸ’¾ Salvar</button>
                    <button class="btn btn-danger" onclick="closeEditTransactionModal()">âŒ Cancelar</button>
                </div>
            </div>
        </div>

        <!-- Tab Renda -->
        <div id="renda" class="tab-content active">
            <div class="card">
                <h2 class="card-title">ConfiguraÃ§Ã£o de Renda Mensal</h2>
                
                <div class="alert alert-info show">
                    <strong>â„¹ï¸ Importante:</strong> Configure os valores de salÃ¡rio e auxÃ­lios. Use a calculadora abaixo como referÃªncia para auxÃ­lios variÃ¡veis.
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label>Nome Pessoa 1</label>
                        <input type="text" id="person1Name" placeholder="Ex: JoÃ£o">
                    </div>
                    <div class="form-group">
                        <label>Nome Pessoa 2</label>
                        <input type="text" id="person2Name" placeholder="Ex: Maria">
                    </div>
                    <div class="form-group">
                        <label>SalÃ¡rio Pessoa 1 (R$)</label>
                        <input type="number" id="person1Salary" placeholder="0,00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>SalÃ¡rio Pessoa 2 (R$)</label>
                        <input type="number" id="person2Salary" placeholder="0,00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>AuxÃ­lio AlimentaÃ§Ã£o Pessoa 1 (R$)</label>
                        <input type="number" id="person1Allowance" placeholder="0,00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>AuxÃ­lio AlimentaÃ§Ã£o Pessoa 2 (R$)</label>
                        <input type="number" id="person2Allowance" placeholder="0,00" step="0.01">
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="saveIncome()">ğŸ’¾ Salvar Renda</button>
                </div>

                <div class="pie-chart-container" id="pieChartContainer" style="display: none;">
                    <div class="pie-chart" id="pieChart"></div>
                    <div class="pie-legend" id="pieLegend"></div>
                </div>

                <h3 style="margin-top: 40px; margin-bottom: 15px; color: var(--primary-color);">ğŸ§® Calculadora de AuxÃ­lio VariÃ¡vel</h3>
                <div class="alert alert-info show">
                    <strong>ğŸ’¡ FÃ³rmula:</strong> VA Fixo + (Dias Ãºteis Ã— Valor diÃ¡rio Ã— 0,5)
                    <br><em>Esta calculadora Ã© apenas para referÃªncia. Atualize manualmente o campo "AuxÃ­lio AlimentaÃ§Ã£o" acima.</em>
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label>VA Fixo (R$)</label>
                        <input type="number" id="vaFixed" placeholder="702,85" step="0.01" value="702.85">
                    </div>
                    <div class="form-group">
                        <label>Valor VR DiÃ¡rio (R$)</label>
                        <input type="number" id="vrDaily" placeholder="37,33" step="0.01" value="37.33">
                    </div>
                    <div class="form-group">
                        <label>Dias Ãšteis do MÃªs</label>
                        <input type="number" id="workDays" placeholder="Auto" min="0" max="31">
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-success" onclick="calculateWorkDays()">ğŸ”„ Recalcular</button>
                </div>

                <div class="workdays-info">
                    <strong>ğŸ“… Dias Ãšteis:</strong> <span id="calculatedWorkDays">-</span> dias | 
                    <strong>ğŸ’° VA Total:</strong> <span id="calculatedVA">R$ 0,00</span>
                </div>
            </div>
        </div>

        <!-- Tab Despesas -->
        <div id="despesas" class="tab-content">
            <div class="card">
                <h2 class="card-title">Despesas Pagas pela CC</h2>
                
                <div class="alert alert-info show">
                    <strong>â„¹ï¸ Dica:</strong> O mÃªs padrÃ£o Ã© preenchido automaticamente com a Data Inicial configurada no topo.
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label>ğŸ“… MÃªs da Despesa</label>
                        <input type="month" id="expenseMonth" required>
                    </div>
                    <div class="form-group">
                        <label>DescriÃ§Ã£o da Despesa</label>
                        <input type="text" id="expenseName" placeholder="Ex: Aluguel">
                    </div>
                    <div class="form-group">
                        <label>Valor (R$)</label>
                        <input type="number" id="expenseAmount" placeholder="0,00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Categoria</label>
                        <select id="expenseCategory">
                            <option value="moradia">ğŸ  Moradia</option>
                            <option value="alimentacao">ğŸ½ï¸ AlimentaÃ§Ã£o</option>
                            <option value="transporte">ğŸš— Transporte</option>
                            <option value="saude">ğŸ¥ SaÃºde</option>
                            <option value="lazer">ğŸ® Lazer</option>
                            <option value="educacao">ğŸ“š EducaÃ§Ã£o</option>
                            <option value="outros">ğŸ“¦ Outros</option>
                        </select>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="expenseRecurring" onchange="toggleExpenseOptions()">
                    <label for="expenseRecurring">ğŸ”„ Despesa Recorrente</label>
                </div>

                <div id="expenseRecurringOptions" class="recurring-options">
                    <div class="form-group">
                        <label>AtÃ© qual mÃªs? (vazio = 12 meses)</label>
                        <input type="month" id="expenseEndMonth">
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="expenseInstallment" onchange="toggleExpenseOptions()">
                    <label for="expenseInstallment">ğŸ’³ Parcelado</label>
                </div>

                <div id="expenseInstallmentOptions" class="recurring-options">
                    <div class="form-group">
                        <label>NÃºmero de Parcelas</label>
                        <input type="number" id="expenseInstallments" placeholder="Ex: 12" min="2" max="120">
                    </div>
                    <div class="form-group">
                        <label>O valor informado Ã©:</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="expenseTypeTotal" name="expenseType" value="total" checked>
                                <label for="expenseTypeTotal">ğŸ’° Valor Total (dividir)</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="expenseTypePerInstallment" name="expenseType" value="perInstallment">
                                <label for="expenseTypePerInstallment">ğŸ“ Valor da Parcela</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="addExpense()">â• Adicionar Despesa</button>
                </div>

                <div style="margin: 30px 0; padding: 15px; background: var(--card-bg); border-radius: 10px; border: 2px solid var(--border-color);">
                    <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 10px;">
                        <strong style="color: var(--text-primary);">ğŸ” Filtrar por status:</strong>
                        <select id="expenseFilter" onchange="loadExpensesView()" style="padding: 8px; border-radius: 6px; border: 2px solid var(--border-color); background: var(--input-bg); color: var(--text-primary);">
                            <option value="all">Todos</option>
                            <option value="pending">â³ Pendentes</option>
                            <option value="paid">âœ… Pagos</option>
                        </select>
                    </div>
                </div>

                <div id="expensesView" style="margin-top: 40px;"></div>
            </div>
        </div>

        <!-- Tab Descontos -->
        <div id="descontos" class="tab-content">
            <div class="card">
                <h2 class="card-title">Descontos / Pagamentos Individuais</h2>
                
                <div class="alert alert-info show">
                    <strong>â„¹ï¸ Dica:</strong> O mÃªs padrÃ£o Ã© preenchido automaticamente com a Data Inicial configurada no topo.
                </div>

                <div class="form-grid">
                    <div class="form-group">
                        <label>ğŸ“… MÃªs do Desconto</label>
                        <input type="month" id="transactionMonth" required>
                    </div>
                    <div class="form-group">
                        <label>Pessoa</label>
                        <select id="transactionPerson">
                            <option value="">Selecione...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>DescriÃ§Ã£o</label>
                        <input type="text" id="transactionDescription" placeholder="Ex: CartÃ£o">
                    </div>
                    <div class="form-group">
                        <label>Valor (R$)</label>
                        <input type="number" id="transactionAmount" placeholder="0,00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label>Categoria</label>
                        <select id="transactionCategory">
                            <option value="moradia">ğŸ  Moradia</option>
                            <option value="alimentacao">ğŸ½ï¸ AlimentaÃ§Ã£o</option>
                            <option value="transporte">ğŸš— Transporte</option>
                            <option value="saude">ğŸ¥ SaÃºde</option>
                            <option value="lazer">ğŸ® Lazer</option>
                            <option value="educacao">ğŸ“š EducaÃ§Ã£o</option>
                            <option value="outros">ğŸ“¦ Outros</option>
                        </select>
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="transactionRecurring" onchange="toggleTransactionOptions()">
                    <label for="transactionRecurring">ğŸ”„ Desconto Recorrente</label>
                </div>

                <div id="transactionRecurringOptions" class="recurring-options">
                    <div class="form-group">
                        <label>AtÃ© qual mÃªs? (vazio = 12 meses)</label>
                        <input type="month" id="transactionEndMonth">
                    </div>
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="transactionInstallment" onchange="toggleTransactionOptions()">
                    <label for="transactionInstallment">ğŸ’³ Parcelado</label>
                </div>

                <div id="transactionInstallmentOptions" class="recurring-options">
                    <div class="form-group">
                        <label>NÃºmero de Parcelas</label>
                        <input type="number" id="transactionInstallments" placeholder="Ex: 12" min="2" max="120">
                    </div>
                    <div class="form-group">
                        <label>O valor informado Ã©:</label>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="transactionTypeTotal" name="transactionType" value="total" checked>
                                <label for="transactionTypeTotal">ğŸ’° Valor Total (dividir)</label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="transactionTypePerInstallment" name="transactionType" value="perInstallment">
                                <label for="transactionTypePerInstallment">ğŸ“ Valor da Parcela</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="addTransaction()">â• Adicionar Desconto</button>
                </div>

                <div style="margin: 30px 0; padding: 15px; background: var(--card-bg); border-radius: 10px; border: 2px solid var(--border-color);">
                    <div style="display: flex; gap: 10px; align-items: center; margin-bottom: 10px;">
                        <strong style="color: var(--text-primary);">ğŸ” Filtrar por status:</strong>
                        <select id="transactionFilter" onchange="loadTransactionsView()" style="padding: 8px; border-radius: 6px; border: 2px solid var(--border-color); background: var(--input-bg); color: var(--text-primary);">
                            <option value="all">Todos</option>
                            <option value="pending">â³ Pendentes</option>
                            <option value="paid">âœ… Pagos</option>
                        </select>
                    </div>
                </div>

                <div id="transactionsView" style="margin-top: 40px;"></div>
            </div>
        </div>

        <!-- Tab LiquidaÃ§Ã£o -->
        <div id="liquidacao" class="tab-content">
            <div class="card">
                <h2 class="card-title">LiquidaÃ§Ã£o Mensal</h2>
                
                <div class="form-group" style="max-width: 300px; margin-bottom: 30px;">
                    <label>ğŸ“… Selecione o MÃªs</label>
                    <input type="month" id="liquidationMonth" onchange="calculateLiquidation()">
                </div>

                <div id="liquidationDetails"></div>
            </div>
        </div>

        <!-- Tab Extrato 1 -->
        <div id="extrato1" class="tab-content">
            <div class="card">
                <h2 class="card-title">ğŸ“„ Extrato - <span id="extrato1PersonName">Pessoa 1</span></h2>
                
                <div class="form-group" style="max-width: 300px; margin-bottom: 30px;">
                    <label>ğŸ“… Selecione o MÃªs</label>
                    <input type="month" id="extrato1Month" onchange="loadExtrato('person1')">
                </div>

                <div id="extrato1Content"></div>
            </div>
        </div>

        <!-- Tab Extrato 2 -->
        <div id="extrato2" class="tab-content">
            <div class="card">
                <h2 class="card-title">ğŸ“„ Extrato - <span id="extrato2PersonName">Pessoa 2</span></h2>
                
                <div class="form-group" style="max-width: 300px; margin-bottom: 30px;">
                    <label>ğŸ“… Selecione o MÃªs</label>
                    <input type="month" id="extrato2Month" onchange="loadExtrato('person2')">
                </div>

                <div id="extrato2Content"></div>
            </div>
        </div>

        <!-- Tab Categorias -->
        <div id="categorias" class="tab-content">
            <div class="card">
                <h2 class="card-title">ğŸ·ï¸ AnÃ¡lise por Categorias</h2>
                
                <div class="form-group" style="max-width: 300px; margin-bottom: 30px;">
                    <label>ğŸ“… Selecione o MÃªs</label>
                    <input type="month" id="categoryMonth" onchange="loadCategoryAnalysis()">
                </div>

                <div id="categoryContent"></div>
            </div>
        </div>

        <!-- Tab HistÃ³rico -->
        <div id="historico" class="tab-content">
            <div class="card">
                <h2 class="card-title">HistÃ³rico Financeiro</h2>
                <div id="historyTable"></div>
            </div>
        </div>

        <!-- Tab Feriados -->
        <div id="feriados" class="tab-content">
            <div class="card">
                <h2 class="card-title">GestÃ£o de Feriados</h2>
                
                <h3 style="margin-top: 20px; margin-bottom: 15px; color: var(--primary-color);">â• Adicionar Feriado</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>Data do Feriado</label>
                        <input type="date" id="holidayDate">
                    </div>
                    <div class="form-group">
                        <label>Nome do Feriado</label>
                        <input type="text" id="holidayName" placeholder="Ex: Natal">
                    </div>
                </div>

                <div class="button-group">
                    <button class="btn btn-primary" onclick="addHoliday()">â• Adicionar Feriado</button>
                </div>

                <h3 style="margin-top: 40px; margin-bottom: 15px; color: var(--primary-color);">ğŸ“‹ Feriados Cadastrados</h3>
                <div class="holidays-container" id="holidaysList"></div>
            </div>
        </div>

        <!-- Tab Backup -->
        <div id="backup" class="tab-content">
            <div class="card">
                <h2 class="card-title">Backup e RestauraÃ§Ã£o</h2>
                
                <div class="button-group">
                    <button class="btn btn-success" onclick="exportData()">ğŸ“¥ Exportar Dados</button>
                    <button class="btn btn-warning" onclick="document.getElementById('importFile').click()">ğŸ“¤ Importar Dados</button>
                    <button class="btn btn-danger" onclick="clearAllData()">ğŸ—‘ï¸ Limpar Tudo</button>
                </div>

                <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)">

                <div class="alert alert-info show" style="margin-top: 20px;">
                    <strong>âš ï¸ AtenÃ§Ã£o:</strong> Ao importar, todos os dados atuais serÃ£o substituÃ­dos.
                </div>
            </div>
        </div>
    </div>

<div id="tutorial" class="tab-content">
    <div class="card">
        <h2 class="card-title">ğŸ“š Como Usar o DivideCerto</h2>
        
        <div style="background: linear-gradient(135deg, #208090 0%, #2ba8a8 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
            <h3 style="margin: 0 0 10px 0; font-size: 1.5rem;">ğŸ¯ Em 5 Passos Simples</h3>
            <p style="margin: 0; opacity: 0.95;">Configure uma vez, use todo mÃªs!</p>
        </div>
        
        <!-- PASSO 1 -->
        <div style="background: var(--bg-color); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #208090;">
            <h3 style="color: #208090; margin-bottom: 15px;">1ï¸âƒ£ Configure sua Renda</h3>
            <p style="line-height: 1.8; color: var(--text-primary);">
                VÃ¡ na aba <strong>ğŸ’µ Renda</strong> e preencha:
            </p>
            <ul style="line-height: 2; color: var(--text-primary);">
                <li>Nome de cada pessoa</li>
                <li>SalÃ¡rio lÃ­quido mensal</li>
                <li>(Opcional) AuxÃ­lios (VA/VR)</li>
            </ul>
            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 10px;">
                ğŸ’¡ <strong>Dica:</strong> Use o valor lÃ­quido (o que cai na conta), nÃ£o o bruto.
            </p>
            <button class="btn-primary" onclick="switchTab('renda')">Ir para Renda â†’</button>
        </div>
        
        <!-- PASSO 2 -->
        <div style="background: var(--bg-color); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #2ba8a8;">
            <h3 style="color: #2ba8a8; margin-bottom: 15px;">2ï¸âƒ£ Cadastre Despesas Compartilhadas</h3>
            <p style="line-height: 1.8; color: var(--text-primary);">
                VÃ¡ na aba <strong>ğŸ“‹ Despesas CC</strong> e adicione gastos da conta conjunta:
            </p>
            <ul style="line-height: 2; color: var(--text-primary);">
                <li><strong>Aluguel</strong> - Use parcelamento se pagar em vezes</li>
                <li><strong>CondomÃ­nio</strong> - Marque recorrente para copiar todo mÃªs</li>
                <li><strong>Luz, Ãgua, Internet</strong> - Adicione todo mÃªs ou use recorrente</li>
                <li><strong>Supermercado conjunto</strong></li>
            </ul>
            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 10px;">
                ğŸ’¡ <strong>Dica:</strong> Despesas CC = tudo que sai da conta corrente conjunta
            </p>
            <button class="btn-primary" onclick="switchTab('despesas')">Ir para Despesas â†’</button>
        </div>
        
        <!-- PASSO 3 -->
        <div style="background: var(--bg-color); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #16a34a;">
            <h3 style="color: #16a34a; margin-bottom: 15px;">3ï¸âƒ£ Cadastre Descontos Pessoais</h3>
            <p style="line-height: 1.8; color: var(--text-primary);">
                VÃ¡ na aba <strong>ğŸ’³ Pagamentos Individuais</strong> e adicione gastos individuais:
            </p>
            <ul style="line-height: 2; color: var(--text-primary);">
                <li><strong>CartÃ£o de crÃ©dito pessoal</strong></li>
                <li><strong>EmprÃ©stimos/financiamentos</strong></li>
                <li><strong>Plano de saÃºde individual</strong></li>
                <li><strong>Academia, cursos, assinaturas</strong></li>
            </ul>
            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 10px;">
                ğŸ’¡ <strong>Dica:</strong> Escolha de quem Ã© o desconto (Pessoa 1 ou Pessoa 2)
            </p>
            <button class="btn-primary" onclick="switchTab('descontos')">Ir para Descontos â†’</button>
        </div>
        
        <!-- PASSO 4 -->
        <div style="background: var(--bg-color); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #ea580c;">
            <h3 style="color: #ea580c; margin-bottom: 15px;">4ï¸âƒ£ Veja Quem Deve Quanto</h3>
            <p style="line-height: 1.8; color: var(--text-primary);">
                VÃ¡ na aba <strong>ğŸ§® LiquidaÃ§Ã£o</strong> e descubra:
            </p>
            <ul style="line-height: 2; color: var(--text-primary);">
                <li>Quanto cada um deve transferir para a conta conjunta</li>
                <li>Ou quanto a conta deve devolver para vocÃª</li>
                <li>ExplicaÃ§Ã£o detalhada de como foi calculado</li>
            </ul>
            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 10px;">
                ğŸ’¡ <strong>MÃ¡gica:</strong> Tudo calculado automaticamente, de forma proporcional Ã  renda!
            </p>
            <button class="btn-primary" onclick="switchTab('liquidacao')">Ir para LiquidaÃ§Ã£o â†’</button>
        </div>
        
        <!-- PASSO 5 -->
        <div style="background: var(--bg-color); padding: 20px; border-radius: 10px; margin-bottom: 20px; border-left: 4px solid #3b82f6;">
            <h3 style="color: #3b82f6; margin-bottom: 15px;">5ï¸âƒ£ Marque o que Foi Pago</h3>
            <p style="line-height: 1.8; color: var(--text-primary);">
                Conforme for pagando as contas:
            </p>
            <ul style="line-height: 2; color: var(--text-primary);">
                <li>Clique no <strong>âœ“</strong> ao lado de cada item</li>
                <li>Itens pagos ficam verdes e menos destacados</li>
                <li>Veja progresso: "5/8 pagos"</li>
            </ul>
            <p style="color: var(--text-secondary); font-size: 0.9rem; margin-top: 10px;">
                ğŸ’¡ <strong>Dica:</strong> Assim vocÃª sabe exatamente o que jÃ¡ foi efetivado!
            </p>
        </div>
        
        <!-- RECURSOS EXTRAS -->
        <div style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); padding: 20px; border-radius: 10px; margin-top: 30px;">
            <h3 style="color: #208090; margin-bottom: 15px;">âœ¨ Recursos Extras</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 20px;">
                <div style="background: white; padding: 15px; border-radius: 8px;">
                    <h4 style="color: #208090; margin: 0 0 10px 0;">ğŸ“Š Extratos Pessoais</h4>
                    <p style="font-size: 0.9rem; margin: 0; color: var(--text-primary);">Veja quanto vocÃª deve, com explicaÃ§Ã£o passo a passo dos cÃ¡lculos</p>
                </div>
                
                <div style="background: white; padding: 15px; border-radius: 8px;">
                    <h4 style="color: #208090; margin: 0 0 10px 0;">ğŸ·ï¸ Categorias</h4>
                    <p style="font-size: 0.9rem; margin: 0; color: var(--text-primary);">Analise gastos por tipo: moradia, alimentaÃ§Ã£o, transporte...</p>
                </div>
                
                <div style="background: white; padding: 15px; border-radius: 8px;">
                    <h4 style="color: #208090; margin: 0 0 10px 0;">ğŸ“ˆ HistÃ³rico</h4>
                    <p style="font-size: 0.9rem; margin: 0; color: var(--text-primary);">Compare gastos mÃªs a mÃªs</p>
                </div>
                
                <div style="background: white; padding: 15px; border-radius: 8px;">
                    <h4 style="color: #208090; margin: 0 0 10px 0;">ğŸŒ™ Modo Escuro</h4>
                    <p style="font-size: 0.9rem; margin: 0; color: var(--text-primary);">Clique no botÃ£o ğŸŒ™ no header</p>
                </div>
                
                <div style="background: white; padding: 15px; border-radius: 8px;">
                    <h4 style="color: #208090; margin: 0 0 10px 0;">ğŸ”„ RecorrÃªncias</h4>
                    <p style="font-size: 0.9rem; margin: 0; color: var(--text-primary);">Cadastre uma vez, replica por N meses</p>
                </div>
                
                <div style="background: white; padding: 15px; border-radius: 8px;">
                    <h4 style="color: #208090; margin: 0 0 10px 0;">ğŸ’³ Parcelamentos</h4>
                    <p style="font-size: 0.9rem; margin: 0; color: var(--text-primary);">Divide automÃ¡tico em parcelas</p>
                </div>
            </div>
        </div>
        
        <!-- FAQ RÃPIDO -->
        <div style="margin-top: 30px;">
            <h3 style="color: #208090; margin-bottom: 20px;">â“ Perguntas Frequentes</h3>
            
            <details style="background: var(--bg-color); padding: 15px; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">
                <summary style="font-weight: 600; color: var(--primary-color); cursor: pointer;">O que Ã© "Despesas CC"?</summary>
                <p style="margin-top: 10px; color: var(--text-primary);">SÃ£o despesas pagas pela <strong>Conta Corrente conjunta</strong> (aluguel, luz, internet, etc). Elas sÃ£o divididas proporcionalmente entre vocÃªs dois.</p>
            </details>
            
            <details style="background: var(--bg-color); padding: 15px; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">
                <summary style="font-weight: 600; color: var(--primary-color); cursor: pointer;">O que sÃ£o "Descontos"?</summary>
                <p style="margin-top: 10px; color: var(--text-primary);">SÃ£o gastos <strong>pessoais de cada um</strong> (cartÃ£o, emprÃ©stimo, plano de saÃºde individual). Cada pessoa paga sÃ³ os seus.</p>
            </details>
            
            <details style="background: var(--bg-color); padding: 15px; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">
                <summary style="font-weight: 600; color: var(--primary-color); cursor: pointer;">Como funciona a divisÃ£o proporcional?</summary>
                <p style="margin-top: 10px; color: var(--text-primary);">Se vocÃª ganha 60% da renda total, paga 60% das despesas compartilhadas. Justo! ğŸ˜Š</p>
            </details>
            
            <details style="background: var(--bg-color); padding: 15px; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">
                <summary style="font-weight: 600; color: var(--primary-color); cursor: pointer;">Meus dados ficam onde?</summary>
                <p style="margin-top: 10px; color: var(--text-primary);">No <strong>seu prÃ³prio navegador</strong> (LocalStorage). NÃ£o vÃ£o para nenhum servidor. 100% privado!</p>
            </details>
            
            <details style="background: var(--bg-color); padding: 15px; border-radius: 8px; margin-bottom: 10px; cursor: pointer;">
                <summary style="font-weight: 600; color: var(--primary-color); cursor: pointer;">Como faÃ§o backup?</summary>
                <p style="margin-top: 10px; color: var(--text-primary);">Na aba <strong>Renda</strong>, clique em <strong>"Exportar Dados"</strong>. Salva um arquivo JSON que vocÃª pode importar depois.</p>
            </details>
        </div>
        
        <!-- CTA FINAL -->
        <div style="background: linear-gradient(135deg, #208090 0%, #2ba8a8 100%); color: white; padding: 25px; border-radius: 10px; margin-top: 40px; text-align: center;">
            <h3 style="margin: 0 0 15px 0; font-size: 1.5rem;">ğŸ‰ Pronto para comeÃ§ar?</h3>
            <p style="margin: 0 0 20px 0; opacity: 0.95;">Configure sua renda agora e veja a mÃ¡gica acontecer!</p>
            <button class="btn" style="background: white; color: #208090; padding: 15px 30px; font-size: 1.1rem; font-weight: 700;" onclick="switchTab('renda')">
                ComeÃ§ar Agora â†’
            </button>
        </div>
    </div>
</div>


    <script src="script.js"></script>
    
    <!-- PWA Installation -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(reg => console.log('âœ… PWA Registrado!'))
                    .catch(err => console.log('âŒ Erro PWA:', err));
            });
        }
        
        // Detectar instalaÃ§Ã£o
        let deferredPrompt;
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Mostrar alerta sugerindo instalaÃ§Ã£o
            const installAlert = document.createElement('div');
            installAlert.className = 'alert alert-info show';
            installAlert.style.cssText = 'position: fixed; top: 20px; right: 20px; z-index: 9999; max-width: 400px;';
            installAlert.innerHTML = `
                <strong>ğŸ“± Instalar DivideCerto</strong><br>
                Adicione Ã  tela inicial para acesso rÃ¡pido!
                <button onclick="installPWA()" style="margin-top: 10px; padding: 8px 16px; background: var(--primary-color); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">
                    â¬‡ï¸ Instalar Agora
                </button>
                <button onclick="this.parentElement.remove()" style="margin-top: 10px; margin-left: 10px; padding: 8px 16px; background: transparent; color: var(--text-primary); border: 2px solid var(--border-color); border-radius: 6px; cursor: pointer;">
                    âœ• Agora nÃ£o
                </button>
            `;
            document.body.appendChild(installAlert);
        });
        
        function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                deferredPrompt.userChoice.then((choiceResult) => {
                    if (choiceResult.outcome === 'accepted') {
                        console.log('âœ… PWA instalado!');
                    }
                    deferredPrompt = null;
                });
            }
        }
    </script>
</body>
</html>

